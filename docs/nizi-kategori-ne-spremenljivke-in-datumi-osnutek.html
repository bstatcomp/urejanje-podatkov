<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Poglavje 3 Nizi, kategorične spremenljivke in datumi (OSNUTEK) | Urejanje podatkov</title>
  <meta name="description" content="Gradivo za delavnico Urejanje podatkov pobude DataScience@UL-FRI." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Poglavje 3 Nizi, kategorične spremenljivke in datumi (OSNUTEK) | Urejanje podatkov" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Gradivo za delavnico Urejanje podatkov pobude DataScience@UL-FRI." />
  <meta name="github-repo" content="bstatcomp/urejanje-podatkov" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Poglavje 3 Nizi, kategorične spremenljivke in datumi (OSNUTEK) | Urejanje podatkov" />
  
  <meta name="twitter:description" content="Gradivo za delavnico Urejanje podatkov pobude DataScience@UL-FRI." />
  

<meta name="author" content="Gregor Pirš, Matej Pičulin in Erik Štrumbelj" />


<meta name="date" content="2021-06-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="urejeni-in-relacijski-podatki.html"/>
<link rel="next" href="reference.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Urejanje podatkov</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Uvod</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#struktura-te-knjige"><i class="fa fa-check"></i>Struktura te knjige</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#stil-programske-kode"><i class="fa fa-check"></i>Stil programske kode</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html"><i class="fa fa-check"></i><b>1</b> Slovnica urejanja podatkov</a>
<ul>
<li class="chapter" data-level="1.1" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#priprava"><i class="fa fa-check"></i><b>1.1</b> Priprava</a></li>
<li class="chapter" data-level="1.2" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#sodobna-razpredelnica-tibble"><i class="fa fa-check"></i><b>1.2</b> Sodobna razpredelnica: <code>tibble</code></a></li>
<li class="chapter" data-level="1.3" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#urejeno-ovrednotenje"><i class="fa fa-check"></i><b>1.3</b> Urejeno ovrednotenje</a></li>
<li class="chapter" data-level="1.4" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#izbira-vrstic-s-filter"><i class="fa fa-check"></i><b>1.4</b> Izbira vrstic s <code>filter()</code></a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#manjkajoče-vrednosti"><i class="fa fa-check"></i><b>1.4.1</b> Manjkajoče vrednosti</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#izbira-stolpcev-s-select"><i class="fa fa-check"></i><b>1.5</b> Izbira stolpcev s <code>select()</code></a></li>
<li class="chapter" data-level="1.6" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#urejanje-vrstic-z-arrange"><i class="fa fa-check"></i><b>1.6</b> Urejanje vrstic z <code>arrange()</code></a></li>
<li class="chapter" data-level="1.7" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#dodajanje-novih-spremenljivk-z-mutate"><i class="fa fa-check"></i><b>1.7</b> Dodajanje novih spremenljivk z <code>mutate()</code></a></li>
<li class="chapter" data-level="1.8" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#povzemanje-vrednosti-s-summarise"><i class="fa fa-check"></i><b>1.8</b> Povzemanje vrednosti s <code>summarise()</code></a></li>
<li class="chapter" data-level="1.9" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#pipe"><i class="fa fa-check"></i><b>1.9</b> Pipe</a></li>
<li class="chapter" data-level="1.10" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#filter-in-mutate-na-združenih-podatkih"><i class="fa fa-check"></i><b>1.10</b> <code>filter()</code> in <code>mutate()</code> na združenih podatkih</a></li>
<li class="chapter" data-level="1.11" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#izvajanje-operacij-nad-večimi-stolpci-z-across"><i class="fa fa-check"></i><b>1.11</b> Izvajanje operacij nad večimi stolpci z <code>across()</code></a></li>
<li class="chapter" data-level="1.12" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#povzemanje-stolpcev"><i class="fa fa-check"></i><b>1.12</b> Povzemanje stolpcev</a></li>
<li class="chapter" data-level="1.13" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#povzemanje-vrstic"><i class="fa fa-check"></i><b>1.13</b> Povzemanje vrstic</a></li>
<li class="chapter" data-level="1.14" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#dodatek"><i class="fa fa-check"></i><b>1.14</b> Dodatek</a>
<ul>
<li class="chapter" data-level="1.14.1" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#zamenjava-vrstnega-reda-stolpcev"><i class="fa fa-check"></i><b>1.14.1</b> Zamenjava vrstnega reda stolpcev</a></li>
<li class="chapter" data-level="1.14.2" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#preimenovanje-stolpcev"><i class="fa fa-check"></i><b>1.14.2</b> Preimenovanje stolpcev</a></li>
<li class="chapter" data-level="1.14.3" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#summarise-in-group-unpeeling"><i class="fa fa-check"></i><b>1.14.3</b> Summarise in group unpeeling</a></li>
</ul></li>
<li class="chapter" data-level="1.15" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#ali-želite-izvedeti-več"><i class="fa fa-check"></i><b>1.15</b> Ali želite izvedeti več?</a></li>
<li class="chapter" data-level="1.16" data-path="slovnica-urejanja-podatkov.html"><a href="slovnica-urejanja-podatkov.html#domača-naloga"><i class="fa fa-check"></i><b>1.16</b> Domača naloga</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html"><i class="fa fa-check"></i><b>2</b> Urejeni in relacijski podatki</a>
<ul>
<li class="chapter" data-level="2.1" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#priprava-1"><i class="fa fa-check"></i><b>2.1</b> Priprava</a></li>
<li class="chapter" data-level="2.2" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#urejeni-podatki"><i class="fa fa-check"></i><b>2.2</b> Urejeni podatki</a></li>
<li class="chapter" data-level="2.3" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#pivot_longer-pretvorba-v-daljšo-obliko"><i class="fa fa-check"></i><b>2.3</b> <code>pivot_longer()</code>: pretvorba v daljšo obliko</a></li>
<li class="chapter" data-level="2.4" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#pivot_wider-pretvorba-v-širšo-obliko"><i class="fa fa-check"></i><b>2.4</b> <code>pivot_wider()</code>: pretvorba v širšo obliko</a></li>
<li class="chapter" data-level="2.5" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#separate-in-unite-deljenje-in-združevanje-stolpcev"><i class="fa fa-check"></i><b>2.5</b> <code>separate()</code> in <code>unite()</code>: deljenje in združevanje stolpcev</a></li>
<li class="chapter" data-level="2.6" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#relacijske-zbirke-podatkov"><i class="fa fa-check"></i><b>2.6</b> Relacijske zbirke podatkov</a></li>
<li class="chapter" data-level="2.7" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#primer-bančni-podatki"><i class="fa fa-check"></i><b>2.7</b> Primer: Bančni podatki</a></li>
<li class="chapter" data-level="2.8" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#ključi"><i class="fa fa-check"></i><b>2.8</b> Ključi</a></li>
<li class="chapter" data-level="2.9" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#združevanja"><i class="fa fa-check"></i><b>2.9</b> Združevanja</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#mutirajoča-združevanja"><i class="fa fa-check"></i><b>2.9.1</b> Mutirajoča združevanja</a></li>
<li class="chapter" data-level="2.9.2" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#argument-by"><i class="fa fa-check"></i><b>2.9.2</b> Argument <code>by</code></a></li>
<li class="chapter" data-level="2.9.3" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#filtrirajoča-združevanja"><i class="fa fa-check"></i><b>2.9.3</b> Filtrirajoča združevanja</a></li>
<li class="chapter" data-level="2.9.4" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#združevanja-na-realnih-podatkih"><i class="fa fa-check"></i><b>2.9.4</b> Združevanja na realnih podatkih</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#operacije-nad-množicami"><i class="fa fa-check"></i><b>2.10</b> Operacije nad množicami</a></li>
<li class="chapter" data-level="2.11" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#nadaljnje-branje"><i class="fa fa-check"></i><b>2.11</b> Nadaljnje branje</a></li>
<li class="chapter" data-level="2.12" data-path="urejeni-in-relacijski-podatki.html"><a href="urejeni-in-relacijski-podatki.html#domača-naloga-1"><i class="fa fa-check"></i><b>2.12</b> Domača naloga</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><i class="fa fa-check"></i><b>3</b> Nizi, kategorične spremenljivke in datumi (OSNUTEK)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#nizi"><i class="fa fa-check"></i><b>3.1</b> Nizi</a></li>
<li class="chapter" data-level="3.2" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#kategorične-spremenljivke"><i class="fa fa-check"></i><b>3.2</b> Kategorične spremenljivke</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#sprememba-razvrstitve-faktorja"><i class="fa fa-check"></i><b>3.2.1</b> Sprememba razvrstitve faktorja</a></li>
<li class="chapter" data-level="3.2.2" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#preimenivanje-obstoječih-in-določanje-novih-nivojev"><i class="fa fa-check"></i><b>3.2.2</b> Preimenivanje obstoječih in določanje novih nivojev</a></li>
<li class="chapter" data-level="3.2.3" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#razbitje-numerične-spremenljivke-na-intervale"><i class="fa fa-check"></i><b>3.2.3</b> Razbitje numerične spremenljivke na intervale</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#datumi-in-ure"><i class="fa fa-check"></i><b>3.3</b> Datumi in ure</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#računanje-z-datumi-in-časi"><i class="fa fa-check"></i><b>3.3.1</b> Računanje z datumi in časi</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#shranjevanje-in-branje-podatkov"><i class="fa fa-check"></i><b>3.4</b> Shranjevanje in branje podatkov</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#delo-z-binarnimi-datotekami"><i class="fa fa-check"></i><b>3.4.1</b> Delo z binarnimi datotekami</a></li>
<li class="chapter" data-level="3.4.2" data-path="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#branje-in-shranjevanje-z-ostalimi-datotekami"><i class="fa fa-check"></i><b>3.4.2</b> Branje in shranjevanje z ostalimi datotekami</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="reference.html"><a href="reference.html"><i class="fa fa-check"></i>Reference</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Urejanje podatkov</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="nizi-kategorične-spremenljivke-in-datumi-osnutek" class="section level1" number="3">
<h1><span class="header-section-number">Poglavje 3</span> Nizi, kategorične spremenljivke in datumi (OSNUTEK)</h1>
<p>Pogosto se pri delu s podatki srečamo s posebnimi podatkovnimi tipi, kot so nizi, kategorične spremenljivke in datumi. Z nizi smo že delali na prvi dveh predavanjih, ampak nad njimi nismo izvajali pretirano kompleksnih funkcij. Delali smo tudi s kategoričnimi spremenljivkami, čeprav se tega morda nismo zavedali. S temi podatkovnimi tipi lahko torej delamo z relativno malo znanja. Seveda pa za kvalitetno delo s podatki potrebujemo tudi orodja za bolj podrobno delo s takšnimi tipi. V tem predavanju bomo spoznali kako delati s takšnimi spremenljivkami v okviru zbirke tidyverse ter predstavili praktične primere, dobre prakse in pasti pri delu z njimi.</p>
<div id="nizi" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Nizi</h2>
</div>
<div id="kategorične-spremenljivke" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Kategorične spremenljivke</h2>
<p>Kategorične spremenljivke so spremenljivke, ki lahko zavzamejo samo vnaprej določene vrednosti. Delimo jih na:</p>
<ul>
<li><strong>Nominalne spremenljivke</strong>. To so spremenljivke brez ureditve. Na primer, spol ali vrsta avtomobila.</li>
<li><strong>Ordinalne spremenljivke</strong>. To so spremenljivke, ki imajo smiselno ureditev. Na primer, stopnja izobrazbe ali šolski uspeh.</li>
</ul>
<p>V R uporabljamo za delo s kategoričnimi spremenljivkami t. i. <strong>faktorje</strong> (ang. <strong>factor</strong>). Ti se od spremenljivk tipa niz razlikujejo v tem, da se v spremenljivki hrani informacija o vseh možnih vrednostih. Prav tako ni mogoče faktorju dodati vrednosti, ki je ni v množici možnih vrednosti, kar služi kot varovalka pred napakami pri vnosu podatkov.</p>
<p>Poglejmo si uporabo faktorja na dveh preprostih primerih, kjer bomo sami ustvarili spremenljivki. Kasneje si bomo ogledali še delo s faktorji na primeru realnih podatkov, kjer bomo ponovno uporabili podatke o zaposlitvah na področju podatkovnih ved.</p>
<p>Kot primer nominalne spremenljivke si oglejmo dneve v tednu. Obstaja 7 možnih vrednosti.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb265-1" aria-hidden="true" tabindex="-1"></a>dan_v_tednu <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;torek&quot;</span>, <span class="st">&quot;četrtek&quot;</span>, <span class="st">&quot;nedelja&quot;</span>, <span class="st">&quot;tork&quot;</span>, <span class="st">&quot;sreda&quot;</span>)</span></code></pre></div>
<p>Sedaj so dnevi v tednu shranjeni kot nizi. Kaj so slabosti takšnega shranjevanja kategoričnih podatkov? Prvič, nimamo nobenega varovala pred tipkarskimi napakami – R je četrti vnos prebral kot <em>tork</em> in ga tako tudi shranil:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb266-1" aria-hidden="true" tabindex="-1"></a>dan_v_tednu</span></code></pre></div>
<pre><code>## [1] &quot;torek&quot;   &quot;četrtek&quot; &quot;nedelja&quot; &quot;tork&quot;    &quot;sreda&quot;</code></pre>
<p>Drugič, če želimo razvrstiti to spremenljivko, razvrščanje ne bo smiselno, saj se bodo vrednosti razvrstile po abecedi:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(dan_v_tednu)</span></code></pre></div>
<pre><code>## [1] &quot;četrtek&quot; &quot;nedelja&quot; &quot;sreda&quot;   &quot;torek&quot;   &quot;tork&quot;</code></pre>
<p>Da se izognemo tem težavam je bolje, če spremenljiko za katero vemo, da bo zasedla eno od vnaprej določenih vrednosti, shranimo kot faktor. V R za to uporabimo funkcijo <code>factor()</code>. Poizkusimo sedaj narediti faktor iz spremenljivke <code>dan_v_tednu</code>.</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb270-1" aria-hidden="true" tabindex="-1"></a>dan_v_tednu_fac <span class="ot">&lt;-</span> <span class="fu">factor</span>(dan_v_tednu)</span>
<span id="cb270-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb270-2" aria-hidden="true" tabindex="-1"></a>dan_v_tednu_fac</span></code></pre></div>
<pre><code>## [1] torek   četrtek nedelja tork    sreda  
## Levels: četrtek nedelja sreda torek tork</code></pre>
<p>Opazimo, da je sedaj spremenljivka drugačnega tipa, saj hrani tudi informacijo o možnih vrednostih oziroma ravneh (ang. levels). Ampak v tem primeru so te ravni napačne (ne zajame vseh 7 dni v tednu, poleg tega pa vsebuje tudi eno napačno vrednost). Funkcija <code>factor()</code> privzeto kot ravni nastavi vse vrednosti v podani spremenljivki. Če želimo, ji lahko podamo dodaten argument <code>levels</code>, kjer ročno določimo, katere ravni bodo v spremenljivki. V kolikor to vemo vnaprej, je dobra praksa da podamo tudi ta argument.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb272-1" aria-hidden="true" tabindex="-1"></a>dan_v_tednu_fac <span class="ot">&lt;-</span> <span class="fu">factor</span>(dan_v_tednu, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;ponedeljek&quot;</span>, <span class="st">&quot;torek&quot;</span>, <span class="st">&quot;sreda&quot;</span>, <span class="st">&quot;četrtek&quot;</span>, </span>
<span id="cb272-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb272-2" aria-hidden="true" tabindex="-1"></a>                                                  <span class="st">&quot;petek&quot;</span>, <span class="st">&quot;sobota&quot;</span>, <span class="st">&quot;nedelja&quot;</span>))</span>
<span id="cb272-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb272-3" aria-hidden="true" tabindex="-1"></a>dan_v_tednu_fac</span></code></pre></div>
<pre><code>## [1] torek   četrtek nedelja &lt;NA&gt;    sreda  
## Levels: ponedeljek torek sreda četrtek petek sobota nedelja</code></pre>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb274-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(dan_v_tednu_fac)</span></code></pre></div>
<pre><code>## [1] torek   sreda   četrtek nedelja
## Levels: ponedeljek torek sreda četrtek petek sobota nedelja</code></pre>
<p>Opazimo dvoje: sedaj lahko spremenljivko uredimo glede na dan v tednu in nesmiselne vrednosti se spremenijo v <code>NA</code>. Faktorju torej ne moremo prirediti vrednosti, ki ni enaka eni izmed vrednosti v ravneh. Da dostopamo do vseh ravni faktorja, uporabimo funkcijo <code>levels()</code>:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb276-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(dan_v_tednu_fac)</span></code></pre></div>
<pre><code>## [1] &quot;ponedeljek&quot; &quot;torek&quot;      &quot;sreda&quot;      &quot;četrtek&quot;    &quot;petek&quot;     
## [6] &quot;sobota&quot;     &quot;nedelja&quot;</code></pre>
<p>Včasih imajo kategorične spremenljivke tudi smiselno razvrstitev po velikosti, ki pa se običajno ne da numerično izmeriti. Kot primer si poglejmo šolski uspeh, ki lahko zavzame 5 vrednosti. V kolikor želimo, da faktor hrani tudi informacijo o tem, da obstaja smiselna razvrstitev po velikosti, dodamo argument <code>ordered = TRUE</code>.</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb278-1" aria-hidden="true" tabindex="-1"></a>uspeh <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;odlično&quot;</span>, <span class="st">&quot;dobro&quot;</span>, <span class="st">&quot;dobro&quot;</span>, <span class="st">&quot;prav dobro&quot;</span>),</span>
<span id="cb278-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb278-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;nezadostno&quot;</span>, <span class="st">&quot;zadostno&quot;</span>, <span class="st">&quot;dobro&quot;</span>, <span class="st">&quot;prav dobro&quot;</span>, <span class="st">&quot;odlično&quot;</span>),</span>
<span id="cb278-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb278-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb278-4"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb278-4" aria-hidden="true" tabindex="-1"></a>uspeh</span></code></pre></div>
<pre><code>## [1] odlično    dobro      dobro      prav dobro
## Levels: nezadostno &lt; zadostno &lt; dobro &lt; prav dobro &lt; odlično</code></pre>
<p>Opazimo, da imamo sedaj pri izpisu nivojev dodatno informacijo o razvrstitvi uspeha. V praksi nam to omogoča primerjamo, medtem ko tega pri faktorjih, ki nimajo razvrstitve po velikosti, ne moremo narediti.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb280-1" aria-hidden="true" tabindex="-1"></a>uspeh[<span class="dv">2</span>] <span class="sc">&gt;</span> uspeh[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb282-1" aria-hidden="true" tabindex="-1"></a>dan_v_tednu_fac[<span class="dv">2</span>] <span class="sc">&gt;</span> dan_v_tednu[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## Warning in Ops.factor(dan_v_tednu_fac[2], dan_v_tednu[1]): &#39;&gt;&#39; not meaningful
## for factors</code></pre>
<pre><code>## [1] NA</code></pre>
<p>Poleg prednosti, ki smo jih že omenili (varovanje pred napakami in smiselna razvrstitev nivojev) imajo faktorji tudi posebno vlogo pri raznih statističnih modelih in modelih strojnega učenja. Nekatere metode eksplicitno zahtevajo faktorje. Prav tako razlikujejo med nominalnimi in ordinalnimi faktorji, kar se pozna na rezultatih. Relativno preprost primer tega je linearna regresija, ki pa je izven obsega te delavnice. Vsekakor pa si je to vredno zapomniti, v kolikor se boste kdaj ukvajrali s podobnimi modeli in boste želeli uporabiti kategorične spremenljivke.</p>
<p>Poglejmo si uporabo faktorjev na realni podatkovni množici. Ponovno bomo delali s podatki o zaposlitvah na področju podatkovnih ved. Preberimo podatke in ponovimo nekaj operacij, ki smo jih spoznali na prvem predavanju. Prav tako bomo izbrali samo podmnožico stolpcev za bolj jasen prikaz.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb285-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb285-2" aria-hidden="true" tabindex="-1"></a>ds_jobs <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">&quot;./data-raw/DS-jobs.csv&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb285-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb285-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country, Age, EmploymentStatus,</span>
<span id="cb285-4"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb285-4" aria-hidden="true" tabindex="-1"></a>         FormalEducation, CompensationAmount, ExchangeRate) <span class="sc">%&gt;%</span></span>
<span id="cb285-5"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb285-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ExchangeRate)) <span class="sc">%&gt;%</span></span>
<span id="cb285-6"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb285-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CompensationUSD =</span> CompensationAmount <span class="sc">*</span> ExchangeRate) <span class="sc">%&gt;%</span></span>
<span id="cb285-7"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb285-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CompensationUSD <span class="sc">&lt;=</span> <span class="dv">2500000</span>, CompensationUSD <span class="sc">&gt;=</span> <span class="dv">10000</span>)</span>
<span id="cb285-8"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb285-8" aria-hidden="true" tabindex="-1"></a>ds_jobs</span></code></pre></div>
<pre><code>## # A tibble: 3,186 x 7
##    Country    Age EmploymentStatus FormalEducation CompensationAmo~ ExchangeRate
##    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;                      &lt;dbl&gt;        &lt;dbl&gt;
##  1 Austral~    43 Employed full-t~ Bachelor&#39;s deg~            80000     0.802   
##  2 Russia      33 Employed full-t~ Bachelor&#39;s deg~          1200000     0.0174  
##  3 Taiwan      26 Employed full-t~ Master&#39;s degree          1100000     0.0333  
##  4 United ~    25 Employed part-t~ Bachelor&#39;s deg~            20000     1       
##  5 United ~    33 Employed full-t~ Doctoral degree           100000     1       
##  6 Russia      22 Employed full-t~ Bachelor&#39;s deg~           624000     0.0174  
##  7 Colombia    34 Employed full-t~ Master&#39;s degree        156000000     0.000342
##  8 Germany     41 Independent con~ I did not comp~           150000     1.20    
##  9 Poland      29 Employed full-t~ Master&#39;s degree           126000     0.281   
## 10 United ~    35 Employed full-t~ Doctoral degree           133000     1       
## # ... with 3,176 more rows, and 1 more variable: CompensationUSD &lt;dbl&gt;</code></pre>
<p>Imamo dve spremenljivki, ki bi jih bilo smiselno shraniti kot faktorje – <code>EmploymentStatus</code> in <code>FormalEducation</code>. Pretvorimo sedaj ti spremenljivki v faktorje. Pri tem pustimo kar privzeto nastavitev, da se kot nivoji uporabijo vse vrednosti v stolpcih.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb287-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb287-2" aria-hidden="true" tabindex="-1"></a>ds_jobs <span class="ot">&lt;-</span> ds_jobs <span class="sc">%&gt;%</span></span>
<span id="cb287-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb287-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">EmploymentStatus =</span> <span class="fu">factor</span>(EmploymentStatus),</span>
<span id="cb287-4"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb287-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">FormalEducation =</span> <span class="fu">factor</span>(FormalEducation))</span>
<span id="cb287-5"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb287-5" aria-hidden="true" tabindex="-1"></a>ds_jobs</span></code></pre></div>
<pre><code>## # A tibble: 3,186 x 7
##    Country    Age EmploymentStatus FormalEducation CompensationAmo~ ExchangeRate
##    &lt;chr&gt;    &lt;dbl&gt; &lt;fct&gt;            &lt;fct&gt;                      &lt;dbl&gt;        &lt;dbl&gt;
##  1 Austral~    43 Employed full-t~ Bachelor&#39;s deg~            80000     0.802   
##  2 Russia      33 Employed full-t~ Bachelor&#39;s deg~          1200000     0.0174  
##  3 Taiwan      26 Employed full-t~ Master&#39;s degree          1100000     0.0333  
##  4 United ~    25 Employed part-t~ Bachelor&#39;s deg~            20000     1       
##  5 United ~    33 Employed full-t~ Doctoral degree           100000     1       
##  6 Russia      22 Employed full-t~ Bachelor&#39;s deg~           624000     0.0174  
##  7 Colombia    34 Employed full-t~ Master&#39;s degree        156000000     0.000342
##  8 Germany     41 Independent con~ I did not comp~           150000     1.20    
##  9 Poland      29 Employed full-t~ Master&#39;s degree           126000     0.281   
## 10 United ~    35 Employed full-t~ Doctoral degree           133000     1       
## # ... with 3,176 more rows, and 1 more variable: CompensationUSD &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(ds_jobs<span class="sc">$</span>EmploymentStatus)</span></code></pre></div>
<pre><code>## [1] &quot;Employed full-time&quot;                                  
## [2] &quot;Employed part-time&quot;                                  
## [3] &quot;Independent contractor, freelancer, or self-employed&quot;</code></pre>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(ds_jobs<span class="sc">$</span>FormalEducation)</span></code></pre></div>
<pre><code>## [1] &quot;Bachelor&#39;s degree&quot;                                                
## [2] &quot;Doctoral degree&quot;                                                  
## [3] &quot;I did not complete any formal education past high school&quot;         
## [4] &quot;I prefer not to answer&quot;                                           
## [5] &quot;Master&#39;s degree&quot;                                                  
## [6] &quot;Professional degree&quot;                                              
## [7] &quot;Some college/university study without earning a bachelor&#39;s degree&quot;</code></pre>
<div id="sprememba-razvrstitve-faktorja" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Sprememba razvrstitve faktorja</h3>
<p>Kot smo omenili že pri dnevih v tednu imajo velikokrat tudi faktorji, ki niso razvrščeni po velikosti, neko smiselno razvrstitev. Razvrstitev pa lahko tudi kasneje spremenimo. Ta operacija je običajno uporabna pri vizualizaciji. Poglejmo si, na primer, kako so plače povezane z izobrazbo. Za vizualizacijo rezultatov bomo uporabili razsevni diagram:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb293-1" aria-hidden="true" tabindex="-1"></a>ds_jobs_agg <span class="ot">&lt;-</span> ds_jobs <span class="sc">%&gt;%</span></span>
<span id="cb293-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb293-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(FormalEducation) <span class="sc">%&gt;%</span></span>
<span id="cb293-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb293-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">MeanCompensationUSD =</span> <span class="fu">mean</span>(CompensationUSD))</span>
<span id="cb293-4"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb293-4" aria-hidden="true" tabindex="-1"></a>ds_jobs_agg</span></code></pre></div>
<pre><code>## # A tibble: 8 x 2
##   FormalEducation                                             MeanCompensationU~
##   &lt;fct&gt;                                                                    &lt;dbl&gt;
## 1 Bachelor&#39;s degree                                                       71665.
## 2 Doctoral degree                                                         90856.
## 3 I did not complete any formal education past high school                78470.
## 4 I prefer not to answer                                                  90023.
## 5 Master&#39;s degree                                                         78411.
## 6 Professional degree                                                     64614.
## 7 Some college/university study without earning a bachelor&#39;s~            105675.
## 8 &lt;NA&gt;                                                                    47833.</code></pre>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ds_jobs_agg, <span class="fu">aes</span>(<span class="at">x =</span> FormalEducation, <span class="at">y =</span> MeanCompensationUSD)) <span class="sc">+</span></span>
<span id="cb295-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb295-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb295-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb295-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-152-1.png" width="672" /></p>
<p>Ta graf je sicer zelo informativen, ampak bi s težavo hitro ugotovili, kako so nivoji faktorja razvrščeni glede na plačo. ggplot razvrsti vrednosti glede na to, kako so razvrščene v faktorju:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(ds_jobs<span class="sc">$</span>FormalEducation)</span></code></pre></div>
<pre><code>## [1] &quot;Bachelor&#39;s degree&quot;                                                
## [2] &quot;Doctoral degree&quot;                                                  
## [3] &quot;I did not complete any formal education past high school&quot;         
## [4] &quot;I prefer not to answer&quot;                                           
## [5] &quot;Master&#39;s degree&quot;                                                  
## [6] &quot;Professional degree&quot;                                              
## [7] &quot;Some college/university study without earning a bachelor&#39;s degree&quot;</code></pre>
<p>Morda bi bilo bolje tak graf urediti glede na vrednosti spremenljivke <code>MeanCompensationUSD</code>. Za to moramo določiti novo razvrstitev te spremenljivke. Za to obstaja v paketu <strong>forcats</strong>, ki je del tidyverse, funkcija <code>fct_reorder()</code>.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ds_jobs_agg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(FormalEducation, MeanCompensationUSD), <span class="at">y =</span> MeanCompensationUSD)) <span class="sc">+</span></span>
<span id="cb298-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb298-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb298-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb298-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-154-1.png" width="672" />
Razvrstitev lahko uredimo tudi ročno s funkicjo <code>fct_relevel()</code>.</p>
</div>
<div id="preimenivanje-obstoječih-in-določanje-novih-nivojev" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Preimenivanje obstoječih in določanje novih nivojev</h3>
<p>Nivoje faktorjev lahko preimenujemo s funkcijo <code>fct_recode()</code>.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb299-1" aria-hidden="true" tabindex="-1"></a>ds_jobs <span class="ot">&lt;-</span> ds_jobs <span class="sc">%&gt;%</span></span>
<span id="cb299-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb299-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">EmploymentStatus =</span> <span class="fu">fct_recode</span>(EmploymentStatus,</span>
<span id="cb299-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb299-3" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">&quot;full-time&quot;</span> <span class="ot">=</span> <span class="st">&quot;Employed full-time&quot;</span>,</span>
<span id="cb299-4"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb299-4" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">&quot;part-time&quot;</span> <span class="ot">=</span> <span class="st">&quot;Employed part-time&quot;</span>,</span>
<span id="cb299-5"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb299-5" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">&quot;other&quot;</span> <span class="ot">=</span> <span class="st">&quot;Independent contractor, freelancer, or self-employed&quot;</span>))</span>
<span id="cb299-6"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb299-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ds_jobs<span class="sc">$</span>EmploymentStatus)</span></code></pre></div>
<pre><code>## [1] full-time full-time full-time part-time full-time full-time
## Levels: full-time part-time other</code></pre>
<p>Če želimo dodati nov nivo uporabimo funckcijo <code>fct_expand()</code>.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb301-1" aria-hidden="true" tabindex="-1"></a>ds_jobs <span class="ot">&lt;-</span> ds_jobs <span class="sc">%&gt;%</span></span>
<span id="cb301-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb301-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">EmploymentStatus =</span> <span class="fu">fct_expand</span>(EmploymentStatus, <span class="st">&quot;trainee&quot;</span>))</span>
<span id="cb301-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb301-3" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(ds_jobs<span class="sc">$</span>EmploymentStatus)</span></code></pre></div>
<pre><code>## [1] &quot;full-time&quot; &quot;part-time&quot; &quot;other&quot;     &quot;trainee&quot;</code></pre>
</div>
<div id="razbitje-numerične-spremenljivke-na-intervale" class="section level3" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Razbitje numerične spremenljivke na intervale</h3>
<p>Velikokrat želimo kakšno numerično spremenljivko segmentirati na določene intervale. Na primer, pri določanju avtomobilskih zavarovalnih premij lahko zavarovance segmentiramo glede na starost. V R za to uporabimo funkcijo <code>cut()</code>. Razdelimo spremenljivko <code>Age</code> na intervale, kjer bodo osebe razdeljene do 25 let, nad 25 in to 35 let, nad 35 do 50 let, in nad 50 let.</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb303-1" aria-hidden="true" tabindex="-1"></a>ds_jobs <span class="ot">&lt;-</span> ds_jobs <span class="sc">%&gt;%</span></span>
<span id="cb303-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb303-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AgeInterval =</span> <span class="fu">cut</span>(Age, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">25</span>, <span class="dv">35</span>, <span class="dv">50</span>, <span class="dv">100</span>)))</span>
<span id="cb303-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb303-3" aria-hidden="true" tabindex="-1"></a>ds_jobs_agg <span class="ot">&lt;-</span> ds_jobs <span class="sc">%&gt;%</span></span>
<span id="cb303-4"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb303-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(AgeInterval) <span class="sc">%&gt;%</span></span>
<span id="cb303-5"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb303-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">CompensationByAge =</span> <span class="fu">mean</span>(CompensationUSD))</span>
<span id="cb303-6"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb303-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ds_jobs_agg, <span class="fu">aes</span>(<span class="at">x =</span> AgeInterval, <span class="at">y =</span> CompensationByAge)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-157-1.png" width="672" /></p>
</div>
</div>
<div id="datumi-in-ure" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Datumi in ure</h2>
<p>Delo z datumi in urami morda na prvi pogled deluje precej enostavno. Vendar pa zaradi različnih fizikalnih zakonitosti ali človeških konstruktov lahko pride do težav. Na primer, vsako leto nima 365 dni. Prav tako v nekaterih časovnih conah 3. ura zjutraj ne sledi vedno 2. uri, saj pride do premika ure.</p>
<p>Za delo z datumi bomo uporabljali paket <strong>lubridate</strong>. Glavni komponenti v tem paketu sta <strong>datum</strong> (date) in <strong>čas</strong> (time), ter združena komponenta <strong>datum in čas</strong> (and. datetime) S tem paketom lahko datume ustvarimo na 2 načina:</p>
<ol style="list-style-type: decimal">
<li><p>Z nizom:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb304-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb304-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb304-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">&quot;2021-04-02&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02&quot;</code></pre>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">&quot;2021/04/02&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02&quot;</code></pre>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="dv">20210402</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02&quot;</code></pre>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy</span>(<span class="st">&quot;02.04.2021&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02&quot;</code></pre>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb312-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hms</span>(<span class="st">&quot;2021-04-02 12:01:00&quot;</span>) <span class="co"># Tipa datetime.</span></span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02 12:01:00 UTC&quot;</code></pre>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb314-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="dv">20210402</span>, <span class="dv">20210403</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02&quot; &quot;2021-04-03&quot;</code></pre></li>
<li><p>S posameznimi komponentami:</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make_date</span>(<span class="dv">2021</span>, <span class="dv">4</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02&quot;</code></pre>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make_datetime</span>(<span class="dv">2021</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">12</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02 12:01:00 UTC&quot;</code></pre></li>
</ol>
<p>Opazimo, da pri datumu in času spremenljivka hrani tudi informacijo o časovnem pasu. Privzeto lubridate dela s časovnim pasom UTC (Coordinated Universal Time), ki je naslednik GMT (Greenwich Mean Time). Prednost tega časovnega pasu je predvsem v tem, da se ne prilagaja spremembi ure v pomladnih in jesenskih mesecih. Te spremembe lahko privedejo do napak pri računanju z datumi in časi, tako da je računanje v UTC bolj varno. Seveda pa lahko ročno nastavimo drugi časovni pas z argumentom <code>tz</code>. Paket lubridate uporablja IANA časovne pasove (<a href="https://www.iana.org/time-zones" class="uri">https://www.iana.org/time-zones</a>), kateri so definirani s kombinacijo celine in države. Na primer, za Ljubljano bi časovni pas nastavili tako:</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb320-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hms</span>(<span class="st">&quot;2021-04-02 12:01:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Ljubljana&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02 12:01:00 CEST&quot;</code></pre>
<p>Pomembno je torej, da vemo, v katerem časovnem pasu so bile opravljene meritve v naših podatkih, da lahko potem ustrezno pretvorimo spremenljivko v časovno. Seveda pa lahko tudi pretvarjamo časovne spremenljivke med časovnimi pasovi. Za to uporabimo funkcijo <code>with_tz()</code>. Vsakemu času v določenem časovnem pasu lahko priredimo nek čas v drugem časovnem pasu. V kolikor želimo bolj robustno računati z datumi in urami, potem lahko vedno datume pretvorimo v UTC čas, naredimo izračune in potem pretvorimo nazaj v lokalni časovni pas.</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb322-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2021-04-02 12:01:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Ljubljana&quot;</span>)</span>
<span id="cb322-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb322-2" aria-hidden="true" tabindex="-1"></a>my_datetime</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-02 12:01:00 CEST&quot;</code></pre>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb324-1" aria-hidden="true" tabindex="-1"></a>my_datetime_UTC <span class="ot">&lt;-</span> <span class="fu">with_tz</span>(my_datetime, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span></code></pre></div>
<p>V R je časovni pas namenjen samo izpisu datumov in časov. Sama vrednost spremenljivke ostane nespremenjena. To lahko preverimo tako, da odštejemo en datum od drugega, kar nam vrne razliko v času:</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb325-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">-</span> my_datetime_UTC</span></code></pre></div>
<pre><code>## Time difference of 0 secs</code></pre>
<p>V kolikor smo narobe prebrali datum v začetku (na primer, v podatkih je bil datum v UTC, prebrali pa smo v lokalnem času) zgornja pretvorba med časovnimi pasovi ni ustrezna, saj bomo s tem zajeli napačen čas. V tem primeru moramo uporabiti funkcijo <code>force_tz()</code>. Predlagamo, da udeleženci sami poizkusijo, kaj naredi ta funkcija, tako da z njo pretvorijo <code>my_datetime</code> v UTC in potem izračunajo razliko, podobno kot smo to naredili zgoraj.</p>
<p>Kadar delamo sekvence datumov in časov te upoštevajo premik ure.</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb327-1" aria-hidden="true" tabindex="-1"></a>datetime_dst <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">ymd_hms</span>(<span class="st">&quot;2011-10-30 00:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Ljubljana&quot;</span>), </span>
<span id="cb327-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb327-2" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">ymd_hms</span>(<span class="st">&quot;2011-10-30 04:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Ljubljana&quot;</span>), </span>
<span id="cb327-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb327-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">by =</span> <span class="st">&quot;30 min&quot;</span>)</span>
<span id="cb327-4"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb327-4" aria-hidden="true" tabindex="-1"></a>datetime_dst</span></code></pre></div>
<pre><code>##  [1] &quot;2011-10-30 00:00:00 CEST&quot; &quot;2011-10-30 00:30:00 CEST&quot;
##  [3] &quot;2011-10-30 01:00:00 CEST&quot; &quot;2011-10-30 01:30:00 CEST&quot;
##  [5] &quot;2011-10-30 02:00:00 CEST&quot; &quot;2011-10-30 02:30:00 CEST&quot;
##  [7] &quot;2011-10-30 02:00:00 CET&quot;  &quot;2011-10-30 02:30:00 CET&quot; 
##  [9] &quot;2011-10-30 03:00:00 CET&quot;  &quot;2011-10-30 03:30:00 CET&quot; 
## [11] &quot;2011-10-30 04:00:00 CET&quot;</code></pre>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with_tz</span>(datetime_dst, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;2011-10-29 22:00:00 UTC&quot; &quot;2011-10-29 22:30:00 UTC&quot;
##  [3] &quot;2011-10-29 23:00:00 UTC&quot; &quot;2011-10-29 23:30:00 UTC&quot;
##  [5] &quot;2011-10-30 00:00:00 UTC&quot; &quot;2011-10-30 00:30:00 UTC&quot;
##  [7] &quot;2011-10-30 01:00:00 UTC&quot; &quot;2011-10-30 01:30:00 UTC&quot;
##  [9] &quot;2011-10-30 02:00:00 UTC&quot; &quot;2011-10-30 02:30:00 UTC&quot;
## [11] &quot;2011-10-30 03:00:00 UTC&quot;</code></pre>
<p>Pozorni moramo biti tudi na kombiniranje datumov. V kolikor uporabimo funkcijo <code>c()</code>, ta običajno privzeto nastavi časovni pas prvega podanega elementa. Vsekakor pa je to odvisno. TODO: Ali je to res? Ker dobim drugačne rezultate kot pa so v knjigi.</p>
<div id="računanje-z-datumi-in-časi" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Računanje z datumi in časi</h3>
<p>Vsaka časovna spremenljivka, ki vsebuje datum in čas, je sestavljena iz komponent. Te so leto, mesec, dan, ura, minuta in sekunda. Za dostop do posameznih komponent imamo na voljo več funkcij:</p>
<ul>
<li><code>year()</code></li>
<li><code>month()</code></li>
<li><code>mday()</code>. Dan v mesecu.</li>
<li><code>wday()</code>. Dan v tednu. Privzeto se začne z nedeljo. To lahko spremenimo z argumentom <code>week_start</code>.</li>
<li><code>hour()</code></li>
<li><code>minute()</code></li>
<li><code>second()</code></li>
</ul>
<p>Poglejmo sedaj kaj vračajo te funkcije:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb331-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">now</span>()</span>
<span id="cb331-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb331-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-03 14:47:26 CEST&quot;</code></pre>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(x)</span></code></pre></div>
<pre><code>## [1] 2021</code></pre>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(x)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mday</span>(x)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(x)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(x, <span class="at">week_start =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hour</span>(x)</span></code></pre></div>
<pre><code>## [1] 14</code></pre>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="fu">minute</span>(x)</span></code></pre></div>
<pre><code>## [1] 47</code></pre>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb347-1" aria-hidden="true" tabindex="-1"></a><span class="fu">second</span>(x)</span></code></pre></div>
<pre><code>## [1] 26.90963</code></pre>
<p>S komponentami lahko tudi spreminjamo dele časovne spremenljivke:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mday</span>(x) <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb349-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb349-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-05 14:47:26 CEST&quot;</code></pre>
<p>Pri računanju s časovnimi enotami v lubridate poznamo tri razrede:</p>
<ul>
<li><strong>trajanja</strong> (ang. duration). Čas v sekundah. Funkcije <code>dseconds()</code>, <code>dminutes()</code>, <code>ddays()</code>, <code>dweeks()</code> in <code>dyears()</code>. Pri trajanjih se vedno uporabi pretvorba, da ima vsak dan 24 ur in vsako leto 365.25 dni. Slednje predstavlja povprečno šteilo dni v letu. Tako da bo funkcija <code>dyears(4)</code> vedno vrnila število sekund, ki ustreza 4x365.25 dnem, ki imajo vsak po 24 ur.</li>
<li><strong>periode</strong> (ang. period). Čas v človeških enotah kot je na primer teden. Funkcije <code>seconds()</code>, <code>minutes()</code>, <code>days()</code>, <code>weeks()</code>, <code>months()</code> in <code>years()</code>.</li>
<li><strong>intervali</strong> (ang. interval). Časovni interval med dvema točkama.</li>
</ul>
<p>Pozoren bralec je morda opazil, da pri trajanjih nismo navedli funkcije za mesece. To je zaradi tega, ker imajo meseci lahko 28, 29, 30 ali 31 dni. Vsekakor bi pri izbiri osnovne enote za trajanja prišlo do neke arbitrarne odločitve, koliko dni vzamemo privzeto. 30 ali 31? V vsakem primeru bo vsaj polovica mesecev imela napačno trajanje. Pri dnevih in letih si lažje privoščimo posplošitev.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb351-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ddays</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;86400s (~1 days)&quot;</code></pre>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb353-1" aria-hidden="true" tabindex="-1"></a><span class="fu">days</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1d 0H 0M 0S&quot;</code></pre>
<p>Poglejmo si preprost primer, kako dodati</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb355-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2021/06/08 11:05:30&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Ljubljana&quot;</span>)</span>
<span id="cb355-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb355-2" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">ddays</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-09 11:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb357-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">days</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-09 11:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb359-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">dminutes</span>(<span class="dv">120</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-08 13:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb361-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">minutes</span>(<span class="dv">120</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-08 13:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb363-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">months</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-08-08 11:05:30 CEST&quot;</code></pre>
<p>Trajanja in periode so si očitno zelo podobni ampak imajo eno veliko razliko, kadar računamo z dnevi, tedni in leti. Prvič, kadar bomo uporabljali <code>dyears()</code> lahko hitro pride do težave, saj bomo prišteli 0.25 dneva. Poglejmo si to na primeru:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb365-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">years</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2022-06-08 11:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb367-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">dyears</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2022-06-08 17:05:30 CEST&quot;</code></pre>
<p>Opazimo, da smo prišteli 6 dodatnih ur. Drugič, kaj se zgodi, kadar prištejemo teden ali dan v času, ko pride do premika ure. Premik ure se je po lokalnem času zgodil 28. 3. 2021 ob 2 zjutraj.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb369-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2021/03/27 11:05:30&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Ljubljana&quot;</span>)</span>
<span id="cb369-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb369-2" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">ddays</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-03-28 12:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb371-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">days</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-03-28 11:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb373-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">dweeks</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-03 12:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb375-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">weeks</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-04-03 11:05:30 CEST&quot;</code></pre>
<p>Funkcija <code>years()</code> deluje kot bi pričakovali tudi na prestopnem letu:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb377-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2020/06/08 11:05:30&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Ljubljana&quot;</span>)</span>
<span id="cb377-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb377-2" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">years</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-08 11:05:30 CEST&quot;</code></pre>
<p>S funkcijami trajanja in period lahko tudi računamo, na primer:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dyears</span>(<span class="dv">2</span>) <span class="sc">+</span> <span class="fu">ddays</span>(<span class="dv">4</span>) <span class="sc">+</span> <span class="fu">dseconds</span>(<span class="dv">20</span>)</span></code></pre></div>
<pre><code>## [1] &quot;63460820s (~2.01 years)&quot;</code></pre>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="fu">days</span>(<span class="dv">2</span>) <span class="sc">+</span> <span class="fu">minutes</span>(<span class="dv">20</span>) <span class="sc">+</span> <span class="fu">seconds</span>(<span class="dv">120</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2d 0H 20M 120S&quot;</code></pre>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">*</span> <span class="fu">dminutes</span>(<span class="dv">20</span>)</span></code></pre></div>
<pre><code>## [1] &quot;6000s (~1.67 hours)&quot;</code></pre>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb385-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">*</span> <span class="fu">minutes</span>(<span class="dv">20</span>)</span></code></pre></div>
<pre><code>## [1] &quot;100M 0S&quot;</code></pre>
<p>Najbolje, da jo prikažemo na dveh primerih – premik ure in prestopno leto. Periode so bolj naraven prikaz za človeka.</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb387-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">&quot;2021/06/08 11:05:30&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;Europe/Ljubljana&quot;</span>)</span>
<span id="cb387-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb387-2" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">ddays</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-09 11:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb389-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">days</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-09 11:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb391-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">dminutes</span>(<span class="dv">120</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-08 13:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb393-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">minutes</span>(<span class="dv">120</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-08 13:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb395-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">dyears</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2022-06-08 17:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb397-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">years</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2022-06-08 11:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb399-1" aria-hidden="true" tabindex="-1"></a>my_datetime <span class="sc">+</span> <span class="fu">months</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2021-08-08 11:05:30 CEST&quot;</code></pre>
</div>
</div>
<div id="shranjevanje-in-branje-podatkov" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Shranjevanje in branje podatkov</h2>
<div id="delo-z-binarnimi-datotekami" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Delo z binarnimi datotekami</h3>
<p>V programskem jeziku R lahko shranjujemo in nalagamo (v trenutno sejo R) spremenljivke kot binarne objekte na dva prevladujoča načina:</p>
<ol style="list-style-type: decimal">
<li>S kombinacijo funkcij <code>save()</code> in <code>load()</code>.</li>
<li>S kombinacijo funkcij <code>saveRDS()</code> in <code>readRDS()</code>.</li>
</ol>
<p>Pomembna razlika med prvim in drugim pristopom je, da lahko s prvim shranimo več spremenljivk naenkrat, z drugim pa samo eno. Na prvi pogled bi torej pričakovali, da je prvi pristop boljši, oziroma bolj zaželen. Ampak ima eno pomembno slabost, zaradi katere predlagamo uporabo drugega pristopa.</p>
<p>Funkcija <code>save()</code> shrani spremenljivke v trenutni seji R v datoteko s končnico <em>rda</em> ali <em>RData</em>. To naredi tako, da shrani tako vrednost spremenljivke kot tudi ime spremenljivke. To pomeni, da ko bomo takšno datoteko prebrali v novo sejo R, bomo ustvarili spremenljivke z enakimi imeni, kot smo jih shranili. Pri tem pa lahko pride do težav. Recimo, da imamo v trenutni seji R že nek nabor spremenljivk nato pa želimo vanjo prenesti še neke druge spremenljivke, ki smo jih pred časom shranili s funkcijo <code>save()</code> v datoteko saved-data.rda. Kaj se bo zgodilo, če bo katera od spremenljivk v naši trenutni seji imela enako ime kot ena od spremenljivk shranjenih v saved-data.rda? R bo enostavno to spremenljivko prepisal s spremenljivko, ki se je nahajala v tej rda datoteki. Takšen postopek dela je lahko torej nevaren, saj lahko <em>nevede</em> izbrišemo obstoječe spremenljivke.</p>
<p>Predlagamo torej uporabo druge kombinacije, torej funkcij <code>saveRDS()</code> in <code>readRDS()</code>. Funkcija <code>saveRDS()</code> shrani samo vrednost spremenljivke, ne pa tudi njenega imena, tako da ne pride do podobnih težav kot pri prvem pristopu. Končnica tako shranjenih datotek je <em>rds</em>. Poglejmo si uporabo teh funkcij.</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb401-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">7</span>)</span>
<span id="cb401-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb401-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 3 6 3 7</code></pre>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb403-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(x, <span class="st">&quot;./my-saved-files/my-x.rds&quot;</span>)</span>
<span id="cb403-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb403-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb403-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb403-3" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;./my-saved-files/my-x.rds&quot;</span>)</span>
<span id="cb403-4"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb403-4" aria-hidden="true" tabindex="-1"></a>x2</span></code></pre></div>
<pre><code>## [1] 3 6 3 7</code></pre>
<p>Vedno ko preberemo podatke v sejo R s funkcijo <code>readRDS()</code> ji moramo prirediti ime, saj je v rds datoteki shrnajena samo njena vrednost. S tem se tudi izognemo podobnim težavam kot pri funkcijah <code>save()</code> in <code>load()</code>.</p>
<p>Pomanjkljivost shranjevanja rds datotek pa je v tem, da lahko naenkrat shranimo samo 1 spremenljivko. Ampak to pomanjkljivost lahko zaobidemo, tako da več spremenljivk enostavno shranimov v seznam (<code>list()</code>). Poglejmo si sedaj na primer, kako bi shranili več spremenljivk.</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb405-1" aria-hidden="true" tabindex="-1"></a>tmp_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb405-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb405-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;x&quot;</span> <span class="ot">=</span> x,</span>
<span id="cb405-3"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb405-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;some_datetime&quot;</span> <span class="ot">=</span> my_datetime,</span>
<span id="cb405-4"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb405-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;ds_jobs&quot;</span> <span class="ot">=</span> ds_jobs</span>
<span id="cb405-5"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb405-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb405-6"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb405-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb405-7"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb405-7" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(tmp_list, <span class="st">&quot;./my-saved-files/my-list.rds&quot;</span>)</span>
<span id="cb405-8"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb405-8" aria-hidden="true" tabindex="-1"></a>read_list <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;./my-saved-files/my-list.rds&quot;</span>)</span>
<span id="cb405-9"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb405-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(read_list)</span></code></pre></div>
<pre><code>## [1] &quot;x&quot;             &quot;some_datetime&quot; &quot;ds_jobs&quot;</code></pre>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb407-1" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> read_list[[<span class="st">&quot;x&quot;</span>]]</span>
<span id="cb407-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb407-2" aria-hidden="true" tabindex="-1"></a>x2</span></code></pre></div>
<pre><code>## [1] 3 6 3 7</code></pre>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb409-1" aria-hidden="true" tabindex="-1"></a>my_datetime2 <span class="ot">&lt;-</span> read_list[[<span class="st">&quot;some_datetime&quot;</span>]]</span>
<span id="cb409-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb409-2" aria-hidden="true" tabindex="-1"></a>my_datetime2</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-08 11:05:30 CEST&quot;</code></pre>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb411-1" aria-hidden="true" tabindex="-1"></a>ds_jobs2 <span class="ot">&lt;-</span> read_list[[<span class="st">&quot;ds_jobs&quot;</span>]]</span>
<span id="cb411-2"><a href="nizi-kategori-ne-spremenljivke-in-datumi-osnutek.html#cb411-2" aria-hidden="true" tabindex="-1"></a>ds_jobs2</span></code></pre></div>
<pre><code>## # A tibble: 3,186 x 8
##    Country    Age EmploymentStatus FormalEducation CompensationAmo~ ExchangeRate
##    &lt;chr&gt;    &lt;dbl&gt; &lt;fct&gt;            &lt;fct&gt;                      &lt;dbl&gt;        &lt;dbl&gt;
##  1 Austral~    43 full-time        Bachelor&#39;s deg~            80000     0.802   
##  2 Russia      33 full-time        Bachelor&#39;s deg~          1200000     0.0174  
##  3 Taiwan      26 full-time        Master&#39;s degree          1100000     0.0333  
##  4 United ~    25 part-time        Bachelor&#39;s deg~            20000     1       
##  5 United ~    33 full-time        Doctoral degree           100000     1       
##  6 Russia      22 full-time        Bachelor&#39;s deg~           624000     0.0174  
##  7 Colombia    34 full-time        Master&#39;s degree        156000000     0.000342
##  8 Germany     41 other            I did not comp~           150000     1.20    
##  9 Poland      29 full-time        Master&#39;s degree           126000     0.281   
## 10 United ~    35 full-time        Doctoral degree           133000     1       
## # ... with 3,176 more rows, and 2 more variables: CompensationUSD &lt;dbl&gt;,
## #   AgeInterval &lt;fct&gt;</code></pre>
</div>
<div id="branje-in-shranjevanje-z-ostalimi-datotekami" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Branje in shranjevanje z ostalimi datotekami</h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="urejeni-in-relacijski-podatki.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reference.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/03-strings-factors-dates.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
